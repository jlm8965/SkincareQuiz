{% layout 'layout.liquid' %}
{% block content %}

<div class="container-sm">
    <form id="signup-form" action="/auth/signup" method="POST">
        <fieldset>
            <legend>Sign Up Here!</legend>
            <label class="form-label">Username: </label>
            <input type="text" name="username" placeholder="username" class="form-control" required>
            <label class="form-label">Password</label>
            <input type="password" name="password" placeholder="enter password" class="form-control" required>
        </fieldset>
        <input type="submit" value="Create Account" class="btn btn-success">
    </form>
</div>

{%- comment -%} 
<script>
    const form = document.querySelector("#signup-form");
    form.onsubmit = async (e) => {
        e.preventDefault();

        const response = await fetch("/auth/signup", {
            method: "POST",
            credentials: "include",
            header: {
                "Content-Type": "application/x-www-form-urlencoded"
            },
            body: new URLSearchParams(new FormData(form)).toString()
        });

        const data = await response.json();

        console.log("data: ", data);
    }
</script> {%- endcomment -%}

{% endblock %}